{"version":3,"file":"quick-setup.js","sources":["../../src/utils/quick-setup.ts"],"sourcesContent":["/**\r\n * Âø´ÈÄüËÆæÁΩÆÂ∑•ÂÖ∑\r\n * üöÄ Êèê‰æõÁÆÄÂåñÁöÑAPIÔºåËÆ©‰ΩøÁî®Êõ¥ÁÆÄÂçï\r\n */\r\n\r\nimport type { CacheConfig } from '../cache/cache-manager'\r\nimport type { LogConfig } from '../logger/logger'\r\nimport { createCacheManager } from '../cache/cache-manager'\r\nimport { createUnifiedLogger } from '../logger/logger'\r\nimport { createPerformanceManager } from '../performance/performance-manager'\r\n\r\n/**\r\n * Âø´ÈÄüÂàõÂª∫ÁºìÂ≠òÁÆ°ÁêÜÂô® - ‰ΩøÁî®‰ºòÂåñÁöÑÈªòËÆ§ÈÖçÁΩÆ\r\n */\r\nexport function quickCache<T = unknown>(options?: {\r\n  maxSize?: number\r\n  ttl?: number\r\n  persistent?: boolean\r\n}) {\r\n  const config: CacheConfig<T> = {\r\n    maxSize: options?.maxSize ?? 50, // Êõ¥Â∞èÁöÑÈªòËÆ§ÁºìÂ≠ò\r\n    defaultTTL: options?.ttl ?? 5 * 60 * 1000, // 5ÂàÜÈíüTTL\r\n    strategy: 'lru' as CacheConfig<T>['strategy'],\r\n    enableStats: false, // ÈªòËÆ§ÂÖ≥Èó≠ÁªüËÆ°\r\n    maxMemory: 5 * 1024 * 1024, // 5MBÂÜÖÂ≠òÈôêÂà∂\r\n    cleanupInterval: 30000, // 30ÁßíÊ∏ÖÁêÜ\r\n    layers: options?.persistent\r\n      ? {\r\n          localStorage: {\r\n            enabled: true,\r\n            prefix: 'qc_',\r\n            maxSize: 2 * 1024 * 1024 // 2MB\r\n          }\r\n        }\r\n      : {}\r\n  }\r\n\r\n  return createCacheManager<T>(config)\r\n}\r\n\r\n/**\r\n * Âø´ÈÄüÂàõÂª∫Êó•ÂøóÂô® - ‰ΩøÁî®‰ºòÂåñÁöÑÈªòËÆ§ÈÖçÁΩÆ\r\n */\r\nexport function quickLogger(options?: {\r\n  level?: 'debug' | 'info' | 'warn' | 'error'\r\n  console?: boolean\r\n  prefix?: string\r\n}) {\r\n  const config: LogConfig = {\r\n    level: options?.level ?? 'warn', // Áîü‰∫ßÁéØÂ¢ÉÈªòËÆ§Âè™ËÆ∞ÂΩïË≠¶Âëä\r\n    enabled: true,\r\n    maxLogs: 50, // ÂáèÂ∞ëÊó•ÂøóÂ≠òÂÇ®\r\n    console: options?.console ?? true,\r\n    remote: false,\r\n    file: false,\r\n    format: 'text', // ÁÆÄÂçïÊ†ºÂºè\r\n    timestamp: false,\r\n    context: false,\r\n    async: false,\r\n    bufferSize: 20, // Â∞èÁºìÂÜ≤Âå∫\r\n  }\r\n\r\n  const logger = createUnifiedLogger(config)\r\n\r\n  // Ê∑ªÂä†ÂâçÁºÄÊîØÊåÅ\r\n  if (options?.prefix) {\r\n    const originalDebug = logger.debug.bind(logger)\r\n    const originalInfo = logger.info.bind(logger)\r\n    const originalWarn = logger.warn.bind(logger)\r\n    const originalError = logger.error.bind(logger)\r\n\r\n    logger.debug = (msg: string, ...args: unknown[]) => originalDebug(`[${options.prefix}] ${msg}`, ...args)\r\n    logger.info = (msg: string, ...args: unknown[]) => originalInfo(`[${options.prefix}] ${msg}`, ...args)\r\n    logger.warn = (msg: string, ...args: unknown[]) => originalWarn(`[${options.prefix}] ${msg}`, ...args)\r\n    logger.error = (msg: string, error?: unknown, ...args: unknown[]) =>\r\n      originalError(`[${options.prefix}] ${msg}`, error, ...args)\r\n  }\r\n\r\n  return logger\r\n}\r\n\r\n/**\r\n * Âø´ÈÄüÂàõÂª∫ÊÄßËÉΩÁÆ°ÁêÜÂô® - ‰ΩøÁî®‰ºòÂåñÁöÑÈªòËÆ§ÈÖçÁΩÆ\r\n */\r\nexport function quickPerformance(options?: {\r\n  monitoring?: boolean\r\n  fpsTracking?: boolean\r\n  memoryTracking?: boolean\r\n}) {\r\n  const perf = createPerformanceManager({\r\n    responseTime: { good: 200, poor: 2000 },\r\n    fps: { good: 50, poor: 25 },\r\n    memory: { warning: 50, critical: 100 }, // MB\r\n    bundleSize: { warning: 250, critical: 500 } // KB\r\n  })\r\n\r\n  // Ê†πÊçÆÈÄâÈ°πÂêØÂä®ÁõëÊéß\r\n  if (options?.monitoring) {\r\n    // Âª∂ËøüÂêØÂä®‰ª•ÈÅøÂÖçÂàùÂßãÂåñÊó∂ÁöÑÊÄßËÉΩÂΩ±Âìç\r\n    setTimeout(() => {\r\n      perf.startMonitoring()\r\n    }, 1000)\r\n  }\r\n\r\n  return perf\r\n}\r\n\r\n/**\r\n * ‰∏ÄÈîÆËÆæÁΩÆÊâÄÊúâ‰ºòÂåñÁöÑÁÆ°ÁêÜÂô®\r\n */\r\nexport interface QuickSetupResult {\r\n  cache: ReturnType<typeof quickCache>\r\n  logger: ReturnType<typeof quickLogger>\r\n  performance: ReturnType<typeof quickPerformance>\r\n  cleanup: () => void\r\n}\r\n\r\nexport function quickSetup(options?: {\r\n  cache?: Parameters<typeof quickCache>[0]\r\n  logger?: Parameters<typeof quickLogger>[0]\r\n  performance?: Parameters<typeof quickPerformance>[0]\r\n}): QuickSetupResult {\r\n  const cache = quickCache(options?.cache)\r\n  const logger = quickLogger(options?.logger)\r\n  const performance = quickPerformance(options?.performance)\r\n\r\n  // Êèê‰æõÁªü‰∏ÄÁöÑÊ∏ÖÁêÜÊñπÊ≥ï\r\n  const cleanup = () => {\r\n    cache.clear()\r\n    cache.destroy()\r\n    performance.clearData()\r\n    if (performance.isMonitoring()) {\r\n      performance.stopMonitoring()\r\n    }\r\n    logger.clear()\r\n    logger.destroy()\r\n  }\r\n\r\n  return {\r\n    cache,\r\n    logger,\r\n    performance,\r\n    cleanup\r\n  }\r\n}\r\n\r\n/**\r\n * ÂàõÂª∫ËΩªÈáèÁ∫ßÁºìÂ≠ò - ÊúÄÂ∞èÂåñÂÜÖÂ≠òÂç†Áî®\r\n */\r\nexport function lightCache<T = unknown>() {\r\n  return quickCache<T>({\r\n    maxSize: 20,\r\n    ttl: 60 * 1000, // 1ÂàÜÈíü\r\n    persistent: false\r\n  })\r\n}\r\n\r\n/**\r\n * ÂàõÂª∫ËΩªÈáèÁ∫ßÊó•ÂøóÂô® - Âè™ËÆ∞ÂΩïÈîôËØØ\r\n */\r\nexport function lightLogger(prefix?: string) {\r\n  return quickLogger({\r\n    level: 'error',\r\n    console: true,\r\n    prefix\r\n  })\r\n}\r\n\r\n// ÂØºÂá∫‰æøÊç∑ÁöÑÂçï‰æã\r\nlet _defaultCache: ReturnType<typeof lightCache> | undefined\r\nlet _defaultLogger: ReturnType<typeof lightLogger> | undefined\r\n\r\nexport function getDefaultCache() {\r\n  if (!_defaultCache) {\r\n    _defaultCache = lightCache()\r\n  }\r\n  return _defaultCache\r\n}\r\n\r\nexport function getDefaultLogger() {\r\n  if (!_defaultLogger) {\r\n    _defaultLogger = lightLogger()\r\n  }\r\n  return _defaultLogger\r\n}\r\n\r\n// ÂØºÂá∫Áªô createEngineApp ‰ΩøÁî®ÁöÑÂáΩÊï∞\r\nexport function createQuickLogger(options?: {\r\n  level?: 'debug' | 'info' | 'warn' | 'error'\r\n  maxLogs?: number\r\n  showTimestamp?: boolean\r\n  showContext?: boolean\r\n  prefix?: string\r\n}) {\r\n  return quickLogger({\r\n    level: options?.level,\r\n    console: true,\r\n    prefix: options?.prefix\r\n  })\r\n}\r\n\r\nexport function createQuickCacheManager<T = unknown>(options?: {\r\n  maxSize?: number\r\n  defaultTTL?: number\r\n  cleanupInterval?: number\r\n  enableMemoryLimit?: boolean\r\n  memoryLimit?: number\r\n}) {\r\n  return quickCache<T>({\r\n    maxSize: options?.maxSize,\r\n    ttl: options?.defaultTTL,\r\n    persistent: false\r\n  })\r\n}\r\n\r\nexport function createQuickPerformanceManager(options?: {\r\n  sampleRate?: number\r\n  monitorMemory?: boolean\r\n  monitorNetwork?: boolean\r\n  monitorComponents?: boolean\r\n  reportInterval?: number\r\n}) {\r\n  return quickPerformance({\r\n    monitoring: true,\r\n    fpsTracking: options?.monitorComponents ?? false,\r\n    memoryTracking: options?.monitorMemory ?? false\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}