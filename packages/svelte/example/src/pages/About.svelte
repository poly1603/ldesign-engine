<script lang="ts">
  import { getEngine } from '@ldesign/engine-svelte'

  const engine = getEngine()

  function handleTestEvent() {
    engine.events.emit('test:event', { 
      message: 'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•äº‹ä»¶ï¼', 
      timestamp: Date.now() 
    })
  }
</script>

<div class="page">
  <h2>â„¹ï¸ å…³äº</h2>
  <p>è¿™æ˜¯ä¸€ä¸ªå±•ç¤º LDesign Engine åŠŸèƒ½çš„ç¤ºä¾‹åº”ç”¨ã€‚</p>

  <div class="card">
    <h3>ğŸ—ï¸ æ¶æ„</h3>
    <p>LDesign Engine é‡‡ç”¨æ’ä»¶åŒ–æ¶æ„ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
    <ul>
      <li><strong>æ’ä»¶ç³»ç»Ÿ</strong> - å¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶</li>
      <li><strong>ä¸­é—´ä»¶</strong> - çµæ´»çš„ä¸­é—´ä»¶ç®¡é“</li>
      <li><strong>çŠ¶æ€ç®¡ç†</strong> - å“åº”å¼çŠ¶æ€ç®¡ç†</li>
      <li><strong>äº‹ä»¶ç³»ç»Ÿ</strong> - å‘å¸ƒ/è®¢é˜…äº‹ä»¶æœºåˆ¶</li>
      <li><strong>ç”Ÿå‘½å‘¨æœŸ</strong> - å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li>
      <li><strong>è·¯ç”±ç®¡ç†</strong> - é›†æˆçš„è·¯ç”±ç³»ç»Ÿ</li>
    </ul>
  </div>

  <div class="card">
    <h3>ğŸª äº‹ä»¶ç³»ç»Ÿæ¼”ç¤º</h3>
    <button onclick={handleTestEvent} class="btn-primary">
      è§¦å‘æµ‹è¯•äº‹ä»¶
    </button>
    <p class="hint">æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹äº‹ä»¶æ—¥å¿—</p>
  </div>

  <div class="card">
    <h3>ğŸ“š å¼•æ“ä¿¡æ¯</h3>
    <table class="info-table">
      <tbody>
        <tr>
          <td><strong>å¼•æ“åç§°:</strong></td>
          <td>{engine.config.name}</td>
        </tr>
        <tr>
          <td><strong>è°ƒè¯•æ¨¡å¼:</strong></td>
          <td>{engine.config.debug ? 'âœ… å¼€å¯' : 'âŒ å…³é—­'}</td>
        </tr>
        <tr>
          <td><strong>å·²åŠ è½½æ’ä»¶:</strong></td>
          <td>{engine.plugins.getAll().length} ä¸ª</td>
        </tr>
        <tr>
          <td><strong>ä¸­é—´ä»¶æ•°é‡:</strong></td>
          <td>{engine.middleware.getAll().length} ä¸ª</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="card">
    <h3>âš¡ Svelte 5 ä¼˜åŠ¿</h3>
    <ul>
      <li>Runes - æ–°çš„å“åº”å¼ç³»ç»Ÿ</li>
      <li>æ›´å¥½çš„æ€§èƒ½</li>
      <li>æ›´å°çš„åŒ…ä½“ç§¯</li>
      <li>æ”¹è¿›çš„ TypeScript æ”¯æŒ</li>
    </ul>
  </div>
</div>

