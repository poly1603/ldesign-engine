const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DG5jUN76.js","assets/vue-vendor-Q532jr-N.js"])))=>i.map(i=>d[i]);
var A=Object.defineProperty,S=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var y=(r,e,t)=>e in r?A(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e)=>{for(var t in e||(e={}))W.call(e,t)&&y(r,t,e[t]);if(m)for(var t of m(e))M.call(e,t)&&y(r,t,e[t]);return r},v=(r,e)=>S(r,z(e));var c=(r,e,t)=>new Promise((s,n)=>{var a=u=>{try{i(t.next(u))}catch(h){n(h)}},o=u=>{try{i(t.throw(u))}catch(h){n(h)}},i=u=>u.done?s(u.value):Promise.resolve(u.value).then(a,o);i((t=t.apply(r,e)).next())});import{c as C,r as P,w as x,a as $,n as L,i as U}from"./vue-vendor-Q532jr-N.js";/*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */const D={name:"vue",version:"3.x",features:{reactive:!0,components:!0,directives:!0,slots:!0}};class H{createReactiveState(e){const t=P({value:e}),s=JSON.parse(JSON.stringify(e));return{get value(){return t.value},set value(n){t.value=n},readonly(){return t.value},update(n){t.value=n(t.value)},reset(){t.value=JSON.parse(JSON.stringify(s))}}}watch(e,t){return x(e,t,{immediate:!1})}batch(e){e(),L()}computed(e){const t=$(e);return{get value(){return t.value},set value(s){console.warn("Cannot set computed property")},readonly(){return t.value},update(s){console.warn("Cannot update computed property")}}}}class _{constructor(){this.handlers=new Map}emit(e,t){const s=this.handlers.get(e);s&&s.forEach(n=>n(t))}on(e,t){return this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(t),()=>this.off(e,t)}once(e,t){const s=n=>{t(n),this.off(e,s)};return this.on(e,s)}off(e,t){var s;t?(s=this.handlers.get(e))==null||s.delete(t):this.handlers.delete(e)}}class V{constructor(){this.info=D}createApp(e,t){return C(e,t)}mount(e,t){return c(this,null,function*(){e.mount(t)})}unmount(e){return c(this,null,function*(){e.unmount()})}registerEngine(e,t){e.provide("engine",t),e.config.globalProperties.$engine=t}createStateAdapter(){return new H}createEventAdapter(){return new _}mapLifecycleHooks(){return{beforeMount:"onBeforeMount",mounted:"onMounted",beforeUpdate:"onBeforeUpdate",updated:"onUpdated",beforeUnmount:"onBeforeUnmount",unmounted:"onUnmounted"}}registerComponent(e,t,s){e.component(t,s)}registerDirective(e,t,s){e.directive(t,s)}provideGlobalProperty(e,t,s){e.config.globalProperties[t]=s}}function O(){return new V}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder */const R="modulepreload",j=function(r){return"/"+r},E={},I=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=u(t.map(h=>{if(h=j(h),h in E)return;E[h]=!0;const d=h.endsWith(".css"),l=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${l}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":R,d||(g.as="script"),g.crossOrigin="",g.href=h,i&&g.setAttribute("nonce",i),document.head.appendChild(g),d)return new Promise((p,f)=>{g.addEventListener("load",p),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return n.then(o=>{for(const i of o||[])i.status==="rejected"&&a(i.reason);return e().catch(a)})};/*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */let N=class{constructor(e){this.plugins=new Map,this.installing=new Set,this.context=e}use(e,t){return c(this,null,function*(){if(this.plugins.has(e.name))this.context.config;else{if(this.installing.has(e.name))throw new Error(`Circular dependency detected: Plugin "${e.name}" is already being installed`);this.installing.add(e.name);try{e.dependencies&&e.dependencies.length>0&&(yield this.checkDependencies(e)),yield e.install(this.context,t),this.plugins.set(e.name,e),this.context.config}catch(s){throw s}finally{this.installing.delete(e.name)}}})}uninstall(e,t=!1){return c(this,null,function*(){const s=this.plugins.get(e);if(!s)return this.context.config,!1;if(!t){const n=this.getDependents(e);if(n.length>0)throw new Error(`Cannot uninstall plugin "${e}": It is required by: ${n.join(", ")}. Use force=true to uninstall anyway.`)}try{s.uninstall&&(yield s.uninstall(this.context));const n=this.plugins.delete(e);return this.context.config,n}catch(n){throw n}})}get(e){return this.plugins.get(e)}getAll(){return Array.from(this.plugins.values())}has(e){return this.plugins.has(e)}clear(){this.plugins.clear(),this.installing.clear()}size(){return this.plugins.size}checkDependencies(e){return c(this,null,function*(){if(!e.dependencies||e.dependencies.length===0)return;const t=[];for(const s of e.dependencies)this.plugins.has(s)||t.push(s);if(t.length>0)throw new Error(`Plugin "${e.name}" requires the following dependencies: ${t.join(", ")}. Please install them first.`)})}getDependents(e){var s;const t=[];for(const[n,a]of this.plugins)(s=a.dependencies)!=null&&s.includes(e)&&t.push(n);return t}getDependencyTree(e){const t=this.plugins.get(e);if(!t)return{};const s={[e]:t.dependencies||[]};if(t.dependencies)for(const n of t.dependencies){const a=this.getDependencyTree(n);Object.assign(s,a)}return s}};function Q(r){return new N(r)}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder *//*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */let T=class{constructor(){this.middlewares=new Map,this.sortedCache=null}use(e){this.middlewares.has(e.name),this.middlewares.set(e.name,e),this.sortedCache=null}remove(e){const t=this.middlewares.delete(e);return t&&(this.sortedCache=null),t}get(e){return this.middlewares.get(e)}getAll(){return Array.from(this.middlewares.values())}execute(e){return c(this,null,function*(){this.sortedCache||(this.sortedCache=this.getSortedMiddlewares());const t=this.sortedCache;if(t.length===0)return;let s=0;const n=()=>c(this,null,function*(){if(e.cancelled||s>=t.length)return;const a=t[s++];try{yield a.execute(e,n)}catch(o){if(!a.onError)throw o;try{yield a.onError(o,e)}catch(i){throw i}}});yield n()})}clear(){this.middlewares.clear(),this.sortedCache=null}size(){return this.middlewares.size}has(e){return this.middlewares.has(e)}getSortedMiddlewares(){return this.getAll().sort((e,t)=>{var n,a;const s=(n=e.priority)!=null?n:0;return((a=t.priority)!=null?a:0)-s})}};function q(){return new T}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder *//*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */let B=class{constructor(){this.hooks=new Map,this.onceWrappers=new Map,this.triggerHistory=new Map}on(e,t){this.hooks.has(e)||this.hooks.set(e,new Set),this.hooks.get(e).add(t)}off(e,t){var a,o;if(!t){const i=this.hooks.get(e);return i&&(i.clear(),this.hooks.delete(e)),void this.onceWrappers.delete(e)}const s=this.onceWrappers.get(e);if(s!=null&&s.has(t)){const i=s.get(t);(a=this.hooks.get(e))==null||a.delete(i.wrapped),s.delete(t),s.size===0&&this.onceWrappers.delete(e)}else(o=this.hooks.get(e))==null||o.delete(t);const n=this.hooks.get(e);n&&n.size===0&&this.hooks.delete(e)}trigger(e,...t){return c(this,null,function*(){var o;const s=this.hooks.get(e);if(!s||s.size===0)return;const n=(o=this.triggerHistory.get(e))!=null?o:0;this.triggerHistory.set(e,n+1);const a=Array.from(s);(yield Promise.allSettled(a.map(i=>c(this,null,function*(){try{yield i(...t)}catch(u){throw u}})))).filter(i=>i.status==="rejected").map(i=>i.reason).length})}once(e,t){const s=(...n)=>c(this,null,function*(){this.off(e,t),yield t(...n)});this.onceWrappers.has(e)||this.onceWrappers.set(e,new Map),this.onceWrappers.get(e).set(t,{original:t,wrapped:s}),this.on(e,s)}clear(){this.hooks.forEach(e=>e.clear()),this.hooks.clear(),this.onceWrappers.forEach(e=>e.clear()),this.onceWrappers.clear(),this.triggerHistory.clear()}getHandlers(e){const t=this.hooks.get(e);return t?Array.from(t):[]}getHandlerCount(e){var t,s;return(s=(t=this.hooks.get(e))==null?void 0:t.size)!=null?s:0}getTriggerCount(e){var t;return(t=this.triggerHistory.get(e))!=null?t:0}getHookNames(){return Array.from(this.hooks.keys())}};function J(){return new B}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder *//*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */let F=class{constructor(){this.events=new Map,this.onceWrappers=new Map,this.maxListeners=100}emit(e,t){const s=this.events.get(e);!s||s.size===0||Array.from(s).forEach(n=>{try{n(t)}catch(a){}})}emitAsync(e,t){return c(this,null,function*(){const s=this.events.get(e);if(!s||s.size===0)return;const n=Array.from(s);yield Promise.allSettled(n.map(a=>c(this,null,function*(){try{yield a(t)}catch(o){}})))})}on(e,t){this.events.has(e)||this.events.set(e,new Set);const s=this.events.get(e);return s.add(t),s.size,this.maxListeners,()=>this.off(e,t)}once(e,t){const s=n=>{this.off(e,t),t(n)};return this.onceWrappers.has(e)||this.onceWrappers.set(e,new Map),this.onceWrappers.get(e).set(t,{original:t,wrapped:s}),this.on(e,s),()=>this.off(e,t)}off(e,t){var a,o;if(!t){const i=this.events.get(e);return i&&(i.clear(),this.events.delete(e)),void this.onceWrappers.delete(e)}const s=this.onceWrappers.get(e);if(s!=null&&s.has(t)){const i=s.get(t);(a=this.events.get(e))==null||a.delete(i.wrapped),s.delete(t),s.size===0&&this.onceWrappers.delete(e)}else(o=this.events.get(e))==null||o.delete(t);const n=this.events.get(e);n&&n.size===0&&this.events.delete(e)}clear(){this.events.forEach(e=>e.clear()),this.events.clear(),this.onceWrappers.forEach(e=>e.clear()),this.onceWrappers.clear()}listenerCount(e){var t,s;return(s=(t=this.events.get(e))==null?void 0:t.size)!=null?s:0}eventNames(){return Array.from(this.events.keys())}setMaxListeners(e){this.maxListeners=e}getMaxListeners(){return this.maxListeners}};function G(){return new F}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder *//*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */class K{constructor(){this.state=new Map,this.watchers=new Map,this.batching=!1,this.batchQueue=new Map}set(e,t){const s=this.state.get(e);if(s!==t){if(this.state.set(e,t),this.batching)return void this.batchQueue.set(e,{value:t,oldValue:s});this.notifyWatchers(e,t,s)}}get(e){return this.state.get(e)}has(e){return this.state.has(e)}delete(e){const t=this.state.delete(e),s=this.watchers.get(e);return s&&(s.clear(),this.watchers.delete(e)),t}clear(){this.watchers.forEach(e=>e.clear()),this.state.clear(),this.watchers.clear(),this.batchQueue.clear()}watch(e,t){this.watchers.has(e)||this.watchers.set(e,new Set);const s=this.watchers.get(e);return s.add(t),()=>{s.delete(t),s.size===0&&this.watchers.delete(e)}}batch(e){if(this.batching)e();else{this.batching=!0,this.batchQueue.clear();try{e()}finally{this.batching=!1,this.batchQueue.forEach(({value:t,oldValue:s},n)=>{this.notifyWatchers(n,t,s)}),this.batchQueue.clear()}}}keys(){return Array.from(this.state.keys())}getAll(){const e={};return this.state.forEach((t,s)=>{e[s]=t}),e}notifyWatchers(e,t,s){const n=this.watchers.get(e);!n||n.size===0||n.forEach(a=>{try{a(t,s)}catch(o){}})}}function X(){return new K}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder *//*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */class Y{constructor(e={}){this.initialized=!1,this.config=w({name:"LDesign Engine",debug:!1},e),this.middleware=q(),this.lifecycle=J(),this.events=G(),this.state=X(),this.plugins=Q({engine:this,config:this.config}),this.config.debug}init(){return c(this,null,function*(){if(this.initialized)this.config.debug;else{this.config.debug;try{yield this.lifecycle.trigger("beforeInit"),yield this.lifecycle.trigger("init"),this.initialized=!0,yield this.lifecycle.trigger("afterInit"),this.config.debug&&this.logStats()}catch(e){throw e}}})}destroy(){return c(this,null,function*(){if(this.initialized){this.config.debug;try{yield this.lifecycle.trigger("beforeDestroy"),this.plugins.clear(),this.middleware.clear(),this.events.clear(),this.state.clear();const e=this.lifecycle;this.initialized=!1,yield e.trigger("destroyed"),e.clear(),this.config.debug}catch(e){throw e}}else this.config.debug})}use(e,t){return c(this,null,function*(){yield this.plugins.use(e,t)})}isInitialized(){return this.initialized}logStats(){}}function Z(r){return new Y(r)}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder */function oe(r){return c(this,null,function*(){const{rootComponent:e,mountElement:t,config:s={},plugins:n=[],middleware:a=[],router:o,onReady:i,onMounted:u,onError:h}=r;try{const d=O(),l=Z(s);yield l.init();for(const f of a)l.middleware.use(f);if(o)try{const{createRouterEnginePlugin:f}=yield I(()=>c(null,null,function*(){const{createRouterEnginePlugin:k}=yield import("./index-DG5jUN76.js");return{createRouterEnginePlugin:k}}),__vite__mapDeps([0,1])),b=f(w({name:"router",version:"1.0.0"},o));n.unshift(b),l.logger&&l.logger.info("Router plugin created successfully")}catch(f){console.warn("Failed to load @ldesign/router-vue. Make sure it is installed if you want to use routing features.",f)}for(const f of n)yield l.use(f);const g=d.createApp(e);d.registerEngine(g,l);const p=v(w({},l),{app:g,adapter:d});return i&&(yield i(p)),yield l.lifecycle.trigger("beforeMount"),yield d.mount(g,t),yield l.lifecycle.trigger("mounted"),u&&(yield u(p)),p}catch(d){throw h&&h(d,"createEngineApp"),d}})}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder *//*!
 * ***********************************
 * @ldesign/engine-vue3 v0.3.0     *
 * Built with rollup               *
 * Build time: 2024-11-07 11:19:42 *
 * Build mode: production          *
 * Minified: No                    *
 * ***********************************
 */function ee(){const r=U("engine");if(!r)throw new Error("Engine not found. Make sure you have called createEngineApp.");return r}function ce(r,e){const s=ee().state.get(r);return s!==void 0?s:e}/*! End of @ldesign/engine-vue3 | Powered by @ldesign/builder */export{ce as a,oe as c,ee as u};
